요청하신 AJAX 기반의 회원가입(중복 확인) 및 맛집 검색 시스템에 대한 풀이입니다. 설정하신 원칙에 따라 **정답은 별도로 표기하지 않았으며**, 실습 요구사항에 맞춘 핵심 소스 코드를 중심으로 정리해 드립니다.

---

## 1. AJAX를 이용한 아이디 중복 확인 및 실시간 검증

### [개념 풀이 가이드]

1. **비동기 통신 기술**: 브라우저가 가지고 있는 XMLHttpRequest 객체를 이용해 페이지 전체를 새로고침하지 않고도 데이터만 주고받는 방식을 떠올려 보세요.
2. **응답 어노테이션**: Spring MVC에서 메서드의 반환값을 HTTP 응답 몸체(Body)로 직접 전송하도록 지시하는 설정입니다.
3. **MyBatis 리턴 타입**: `COUNT(*)`는 일치하는 행의 개수를 세는 함수입니다. 개수는 항상 '숫자'로 나옵니다.
4. **성공 콜백 속성**: jQuery의 `$.ajax` 옵션 중 통신이 에러 없이 완료되었을 때 실행할 함수를 지정하는 이름입니다.

### [실습] 실시간 비밀번호 일치 확인 시스템

**1) JSP (View)**

```html
<div>
    비밀번호: <input type="password" id="password"><br>
    비밀번호 확인: <input type="password" id="passwordConfirm"><br>
    <span id="pwMessage"></span>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $('#password, #passwordConfirm').on('keyup', function() {
        let pw = $('#password').val();
        let pwConfirm = $('#passwordConfirm').val();

        if(pw !== "" && pwConfirm !== "") {
            $.ajax({
                url: '/checkPassword',
                type: 'POST',
                data: { pw: pw, pwConfirm: pwConfirm },
                success: function(response) {
                    $('#pwMessage').text(response);
                    // 스타일에 따른 색상 변경 로직 추가 가능
                    if(response === "확인 완료") {
                        $('#pwMessage').css('color', 'green');
                    } else {
                        $('#pwMessage').css('color', 'red');
                    }
                }
            });
        }
    });
</script>

```

**2) Controller**

```java
@PostMapping("/checkPassword")
@ResponseBody
public String checkPassword(@RequestParam String pw, @RequestParam String pwConfirm) {
    if(pw.equals(pwConfirm)) {
        return "확인 완료";
    } else {
        return "불일치";
    }
}

```

---

## 2. 검색 및 리스트 출력을 위한 MVC 패턴

### [개념 풀이 가이드]

1. **파라미터 수집**: 폼 데이터나 쿼리 스트링의 파라미터를 객체(VO)의 필드와 매핑하여 자동으로 바인딩해주는 기능을 생각해보세요.
2. **SQL 와일드카드**: '김'으로 시작하는 단어, 혹은 '식당'이 포함된 단어를 찾을 때 사용하는 기호입니다.
3. **문자열 가공 이유**: SQL 쿼리문 안에서 `LIKE` 연산자를 안전하고 정확하게 수행하기 위해 검색어 앞뒤에 특정 문자를 붙여서 넘겨줍니다.
4. **ResponseEntity의 역할**: 단순한 데이터뿐만 아니라 HTTP 상태 코드(200 OK, 404 Not Found 등)와 헤더 정보를 함께 담아 클라이언트에 보낼 수 있는 바구니 같은 객체입니다.

### [실습] "오늘 뭐 먹지?" 랜덤 메뉴 추천 서비스

**1) JSP (View)**

```html
<button class="btn-recommend" data-category="한식">한식 추천</button>
<button class="btn-recommend" data-category="일식">일식 추천</button>
<button class="btn-recommend" data-category="양식">양식 추천</button>

<div id="result" style="font-size: 2em; font-weight: bold; margin-top: 20px;"></div>

<script>
    $('.btn-recommend').on('click', function() {
        let category = $(this).data('category');
        
        $.ajax({
            url: '/recommendMenu',
            method: 'GET',
            data: { category: category },
            success: function(menu) {
                if(menu) {
                    $('#result').html(`오늘의 추천 메뉴: ${menu.name} <br> 가격: ${menu.price}원`);
                } else {
                    $('#result').text("해당 카테고리에 메뉴가 없습니다.");
                }
            }
        });
    });
</script>

```

**2) Service (Logic)**

```java
public LunchMenu getRandomMenu(String category) {
    List<LunchMenu> list = dao.getMenuListByCategory(category);
    if(list == null || list.isEmpty()) return null;
    
    // 리스트 크기 내에서 랜덤 인덱스 추출
    int randomIndex = (int)(Math.random() * list.size());
    return list.get(randomIndex);
}

```

**3) Controller**

```java
@GetMapping("/recommendMenu")
@ResponseBody
public LunchMenu recommendMenu(@RequestParam String category) {
    // Service 호출 후 LunchMenu 객체 반환 
    // (Spring이 자동으로 JSON으로 변환하여 응답)
    return service.getRandomMenu(category);
}
