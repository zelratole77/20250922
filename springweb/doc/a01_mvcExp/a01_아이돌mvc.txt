# 스프링 MVC로 아이돌 관리 프로그램 처리..
1. 데이터 테이블
	TBL_GROUP(그룹)
	TBL_MEMBER(멤버)
2. 처리할 파일
	패키지 : 
		web.com.springweb.a02_mvc.a01_idol
	클래스 :
		A01_Idol_Controller.java
		A02_Idol_Service.java
		A03_Idol_Dao.java	
		A04Group.java  // dto
		A05Member.java 
	view 
		폴드명 : webapp\WEB-INF\views\a05_idol
		a01_groupList.jsp
		a02_groupInsert.jsp
		a03_groupDetail.jsp
3. 프로세스에 대한 이해
	1) url : http://localhost:5050/idolGrpList
		로 호출하면 전체 검색된 아이돌 그룹리스트가 이름과 팬닉네임으로 키워드 검색이 된다.
		A01_Idol_Controller ==> A02_Idol_Service ==> A03_Idol_Dao
		A03_Idol_Dao ==> A02_Idol_Service ==> A01_Idol_Controller ==> a01_groupList.jsp
	2) 해당 화면에서 등록 버튼틀 클릭 하면	http://localhost:5050/idolGrpInsert 로
		url이 호출되면 아이돌 그룹등록 창이 나와서 그룹이름, 데뷰날짜, 팬닉네임을 입력할 수 있는 화면이 나온다.
		데이터를 등록 하면, 등록완료 후, 조회하면에서 등록된 데이터 리스트를 볼 수 있다.
		A01_Idol_Controller ==> a02_groupInsert.jsp
		a02_groupInsert.jsp ==> A01_Idol_Controller ==> A02_Idol_Service ==> A03_Idol_Dao
			등록된 건수 출력.. 
	3) 전체 검색 리스트화면에서, 행단위로 특정 아이돌 그룹명을 클릭시, 상세화면 http://localhost:5050/idolGrpDetail
		로 이동하여 해당 아이돌 그룹의 데이터를 수정 삭제 할 수 있는 데이터가 있는 화면이 나온다.
			그룹이름, 데뷰날짜, 팬닉네임을 수정 후 수정버튼을 클릭시, 수정 처리된다.
			삭제버튼클릭시 삭제 처리된다.
		A01_Idol_Controller ==> A02_Idol_Service ==> A03_Idol_Dao
		A03_Idol_Dao ==> A02_Idol_Service ==> A01_Idol_Controller ==> a03_groupDetail.jsp
		수정 삭제로 
		a02_groupInsert.jsp ==> A01_Idol_Controller ==> A02_Idol_Service ==> A03_Idol_Dao
4.	개발 순서
	1) 초기 기본 화면 화면과 UI 결정
		A01_Idol_Controller url 패턴으로 메서드 정의
		각각 필요한 화면 UI를 jsp(view)로 만들어 데이터를 없지만 화면 구성 처리(요청 form까지)
	2) 요청값에 의해서 처리되는 데이터 초기 sql 처리
	3) A03_Idol_Dao 처리
	4) A02_Idol_Service 호출
	5) A01_Idol_Controller 에서 service에서 넘겨오 모델 데이터 설정
	6) view(jsp)에서 처리 후 화면 내용 수행..코드.. (js script, 모델에서 온 데이터 처리)
	
5. 리스트 조회 화면 구현..
	1)  초기 기본 화면 화면과 UI 결정
		A01_Idol_Controller
			http://localhost:5050/idolGrpList  a01_groupList.jsp
			메서드 정의 view단 호출..
		a01_groupList.jsp
			form 요청 처리..
			table 리스트 화면 
	2) 초기 데이터 로딩 및 검색 처리..
		- sql 작성 groupName fandomName
		- dao 메서드
			SELECT * FROM TBL_GROUP 
			WHERE GROUP_NAME LIKE #{groupName} 
			AND FANDOM_NAME LIKE #{fandomName}		
		
		
		- service
			초기에 검색데이터가 없을 때 null ==> "" 처리 
				public List<A04Group> getIdolGrpList(A04Group sch){
					// 서비스단 처리..(전체리스트 키워드 검색)
					// 아래 데이터 dao에 처리하기 위해서 service에서 비지니스로직(알고리즘) 처리
					null ==> "" 비어있는 문자열 처리
					%% 로 감싸게 처리...
					
					return dao.getIdolGrpList(sch);
				}
		// http://localhost:5050/idolGrpList  요청값 아에 없는 것(초기화면 - get방식으로 처리될 때)
		//       	A04Group가 생성될 때.  groupName fandomName ?  null, null
			SELECT * FROM TBL_GROUP 
			WHERE GROUP_NAME LIKE null 
			AND FANDOM_NAME LIKE null ===> 에러 발생. '%%', '%%'가 되어야지 처리되고 초기화면에 전체검색..
			
		// http://localhost:5050/idolGrpList?
		//      groupName=A&fandomName=B      요청값 form의 의해서 전달될 - post방식으로 처리될 때
		//          	               groupName A  fandomName B		
			SELECT * FROM TBL_GROUP 
			WHERE GROUP_NAME LIKE 'A' 
			AND FANDOM_NAME LIKE 'B'	==> keyword검색이 안됨 ==> '%A%', '%B%' 			
			
		- controller
			검색된 모델 데이터 설정
		- view단 
			모델데이터 반복문 처리..			
6. 등록 처리 구현
	1) A01_Idol_Controller 
		controller 단에서 등록 UI(form) 화면 호출(GET방식)
		http://localhost:5050/idolGrpInsert
	2) a02_groupInsert.jsp 등록화면구현
	   - 등록에 필요한 form method="post" 화면 처리
	   groupNo groupName debutDate fandomName
	   	<input name="groupName">
	   	<input name="debutDate">
	   	<input name="fandomName">   
    3) a01_groupList.jsp 
    	리스트 화면에서 등록버튼 클릭시 위 등록 화면 이동
    	location.href="idolGrpInsert"
    ---------------------------------------------	
    	
    4) sql 작성 (실제 등록 처리)
		 INSERT INTO TBL_GROUP (GROUP_NO, GROUP_NAME, DEBUT_DATE, FANDOM_NAME) 
		VALUES (idolgrp_seq.nextval, '아이브2', '2021-12-01', '다이브2');   
    	
    5) dao ==> service 등록이 1이상일 때 리턴값을 등록 성공으로 처리..
		 INSERT INTO TBL_GROUP (GROUP_NO, GROUP_NAME, DEBUT_DATE, FANDOM_NAME) 
		VALUES (idolgrp_seq.nextval, #{groupName}, #{debutDate}, #{fandomName})    
		
    	@Insert("")
    	int insertIdoGrp(A04Group ins);
    
    
    6) controller  	
    	/idolGrpInsert(POST방식)
    	d.addAttribute("msg", "등록성공");
    7) a02_groupInsert.jsp
    	let msg = "${msg}"
    	if(msg!='')
    		if( confirm(msg+"조회화면으로 이동하시겠습니까?") ){
    			location.href="idolGrpList"
    		}
    		
7. 상세 화면 구현
	1) 프로세스
		리스트 화면에서 특정한 행단위 데이터를 더블 클릭시, 해당 데이터의 상세 데이터를 확인할 수 있는 form입력 창에 데이터르가
		들어간 화면을 볼 수 있고, 이것을 수정/삭제 클릭시 해당 프로세스를 처리하는 화면을 확인할 수 있다.
	
	2) 구현 순서
		- 상세 sql 작성
		- dao
		- service, controller 모델 데이터 설정
		- jsp에 해당 화면 로딩 처리
		- list 화면에서 해당 상세 화면 로딩을 위해 리스트에 특정한 데이터 더블 클릭시, get방식으로 해당 상세데이터 출력 link 처리
		

8. 수정/삭제 프로세스 구현.
    		
    	
    	
				
	
				
		
	