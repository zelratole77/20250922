# 스프링기반 메일 발송.
1. 메일 발송은 웹 프로그래밍에서 다양한 분야에 사용되고 있다. 기본적으로 다중의 사람들에게
정보를 전달하는 것부터 시작해서, 계정에 대한 정보(아이디/비밀번호) 분실시, 등록된 메일주소에
전달하여 복구에 도움을 주는 것이외에도, 특정한 사이트(회사 관리)에 입사한 사원에 대한 아이디와
비밀번호로 초기에 전송하여, 해당 사이트에 접속하여 해당 사원에 대한 정보를 다시 재입력시 처리하는
등 여러 분야에 사용되고 있다.
2. 기본 프로세스
	메일발송 form 양식을 만들고, 기본적인 메일 정보인 발신자,수신자, 제목, 발송할 내용 등의
	기본 구성요소를 만든 후, 메일 발송 버튼을 클릭하면, 등록된 메일 서버에 해당 내용을 전달하고,
	메일 발송 서버에서는 이 내용을 기준으로 특정한 사용자의 메일에 해당 내용 정보와 함께 메일을
	발송한다.
3. 개발 순서
	- 주의) 메일 발송시 반드시 form이 필요하지 않는다. 위 내용과 같이 특정 다수의 대상자에게
	메일을 발송하거나, 또한 특정 정보를 처리할 때는 화면이 없더라도 해당 속성값만 설정해서 처리할 있다.
	1) 메일 발송을 위한 SERVER(stmp-발송서버) 설정
		- 메일 발송하기 위해서는 발송 서버에 해당 계정이 사용할 수 있도록 등록 되어 있어야 한다.(서버 차용 형태)
		SMTP 서버는 일반 회사에서 고유의 메일 서버를 운영하는 경우에는 그 회사의 도메일 주소로 사용하지만,
		일반일의 경우 smtp서버를 차용하여 사용하는 경우가 많디ㅏ.(예제로 한 내용을 구글의 SMTP로 설정하여 사용하기로 한다)
	2) 웹서버의 SMTP 정보 설정 - applicatin.properties에 메일 발송 서버 정보를 등록하여 처리한다.
		메일 발송을 위한 속성 설정
		spring.mail.host : 이메일을 보내기 위해 사용할 smtp(Simple mail transfer protocol) 서버를
			지정 gmail의 경우 위 주소(smpt.gmail.com) 사용
		spring.mail.port :gmail의 smtp 서버 포트 지정
			포트 번호 578는 TLS(Transport Layer Security) 암호화된 smpt 서버와 통신하기 위해 사용
		spring.mail.username : 이메일 보내기 위한 gmail 계정의 사용자 이름. 이 이메일 주소는 실제 발신자로 표시된다.
		spring.mail.password : gmail 계정을 로그인 하기 위한 비밀번호, 보안 강화 위해
			앱 비밀번호를 생성하여 사용, 앱비밀번호는 일반 비밀번호와 다르며, gmil 계정 설정에서
			앱 비밀번호 활성화해야 한다. 앱비밀번호를 사용하지 않으면 보안 문제로 인해 이메일 발송이 차단될 수 있음
		spring.mail.properties.mail.smtp.auth
			SMTP 서버가 인증(authentication)을 요구하는 여부를 설정한다.
			gmail의 smtp 서버는 기본적으로 인증을 필요로 하므로 true로 설정해야 한다.
		spring.mail.properties.mail.smtp.starttls.enable
			이메일 전송 중 데이터 암호화를 위해 TLS(Transport Layer Security)를 활성화 한다.
			TLS는 데이터 전송시 보안을 강화하는 표준 암호화 프로토콜이다.
		spring.mail.properties.mail.debug	
			디버깅을 활성화하여 이메일 발송과정에서 자세히 로그를 출력한다.
			개발 및 문제 해결 단계에서 유효하다.
		spring.mail.properties.mail.transport.protocol
			사용할 전송 프로토콜(데이터 전송 규칙)을 저장한다.
			이메일 발송에 사용된 프로토콜로 smtp를 지정한다.
	3) controller view(초기 화면 UI구성) 메일 발송의 기본 형태인 발신할 대상자와 제목 발송할 내용이 있는 form을 만든다.
		주의) 발송자(차용으로 인해 현재 서버계정 주소)
	4) service(메일 발송 처리) 메일 발송의 핵심 내용을 처리하여 메일의 우선 SMTP가 있는 메일 서버에 전송되어
		해당 서버에서 대상 메일로 발송하게 처리한다.
		
# 계정 및 비밀번호 분실시 로직 처리.
1. 처리프로세스
	1) 회원 가입시, 계정 및 비번 분실시, 초기에 회원이 등록된 메일로 발송할 수 있다.
	2) id/pwd 입력 창에서 비밀번호 분실 내용 클릭, 메일로 비밀번호를 발송하여 처리되는 것을 말한다..(등록된 메일로 발송하였습니다.)
	3) 메일에서 임시비번을 확인하고, 그 내용을 처리되는 것을 말한다.
2. 개발순서(비밀번호 분실시)
	1) 등록된 계정을 통해서 DB등록된 email을 확인
		- DB 컬럼에 email 정보를 설정한다. (테이블 구조 변경)
		- 조회를 해당 id를 통해서 등록된 email를 가져오는 sql/dao 처리	(dao 처리)
		- 서비스단에 임시비번호8자리 생성 및 dao를 통해 해당 계정에 할당 (service dao 처리)
		- 등록된 메일로 해당 임시비밀번호 발송 처리. (service 발송)
	2) service ==> controller단 구성
	3) 화면단 로그인 화면에서 비밀번호 분실시, 위 처리를 하는 controller 호출 ..
	
		
			
	
		
			
			
			
			