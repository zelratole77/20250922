Good morning QUIZ! 오늘도 좋은 하루 되시길~~ ^^

### [Part 1] 객관식 4지 선다형 (20문제)

**1. 코드의 Docstring에 기술된 '파이썬 데이터 등록 처리' 단계 중, SQL 인젝션 공격을 방지하기 위해 수행해야 하는 가장 핵심적인 단계는 무엇인가?**
① 데이터 수집 (Raw Data 입력)
② 데이터 유형성 검사 및 형변환
#③ SQL 바인딩 준비 (골격 생성 및 변수 바인딩) :바이딩키,  :1 :2  
④ 쿼리 실행 (execute)

**2. `con.commit()` 메서드를 호출해야 하는 이유로 가장 올바른 설명은?**
① DB 서버와 연결을 끊기 위해서
#② 메모리에 임시 저장된 데이터 변경 사항을 실제 DB(하드디스크)에 영구 반영하기 위해서
	commit() 전에는 rollback()할 수 있고, commit() 이후는 rollback() 불가능
	rollback()은 에러 발생시 주로 사용.
③ SELECT 문을 실행하여 결과를 가져오기 위해서
④ 파이썬 프로그램의 메모리를 초기화하기 위해서

**3. 제공된 코드에서 `StudentDTO`, `HeroDTO`와 같은 `@dataclass`를 사용하는 주된 목적은 무엇인가?**
① 데이터베이스의 테이블 구조를 자동으로 생성하기 위해
#② 관련된 데이터를 하나의 객체로 묶어 관리하고, `__dict__`를 통해 바인딩을 쉽게 하기 위해
	결과 데이터를 객체단위로 묶어서 보다 가독성 있게 처리하기 위해서..
③ SQL 쿼리문의 문법 오류를 자동으로 검사하기 위해
④ 사용자로부터 입력을 받지 않고 자동으로 더미 데이터를 생성하기 위해

**4. 다음 중 INSERT 쿼리 실행 시 `cursor.execute(sql, data)` 함수에서 `data` 파라미터로 
   전달하기에 가장 적합한 파이썬 데이터 형태는? (코드의 `insObj.__dict__`와 관련)**
① 단순 문자열 (String)
② 정수형 (Integer)
#③ 딕셔너리 (Dictionary) 또는 튜플 (Tuple)
	키값 :key                :1 :2....
④ 리스트 안의 리스트 (List of Lists)

**5. 사용자가 입력한 데이터(Raw Data)를 `int()` 등을 사용하여 형변환하는 단계의 목적으로 적절하지 않은 것은?**
	등록이나 수정이 DB에 데이터 유형과 맞추기 위해 형변화 처리..
	int(input()) : 정수형
	float(input()) :  실수형..
	datetime : 날짜형.

① DB 컬럼 타입(Number 등)과의 일치
② 데이터의 무결성(숫자가 맞는지 등) 1차 검증
#③ SQL 문법 자체의 오류 수정
④ 연산이 가능한 형태의 데이터로 변환

**6. 코드에서 `INSERT INTO ... VALUES(:std_name, :kor ...)`와 같이 콜론(:)을 사용하는 
바인딩 변수 방식의 장점이 아닌 것은?**
① SQL 인젝션 공격을 예방할 수 있다.
② 쿼리의 가독성을 높일 수 있다.
③ 데이터베이스 엔진이 SQL 실행 계획을 재사용하여 성능을 높일 수 있다. 
	서버에 동일 sql 전달되면 재해석과정을 거치지않고 처리되기에 빠르게 처리할 수 있다.
#④ 파이썬 변수명을 SQL 컬럼명과 반드시 다르게 설정해야 한다.

**7. UPDATE 로직을 수행하기 전에 반드시 '수정 전 상세 검색(SELECT)'을 먼저 수행하는 논리적인 이유는?**
① UPDATE 구문은 SELECT 구문 없이는 실행되지 않기 때문이다.
#② 사용자가 수정하지 않고 엔터를 쳤을 때, 기존 데이터를 유지하기 위해서이다.
③ 트랜잭션을 시작하기 위해서는 반드시 SELECT가 선행되어야 하기 때문이다.
④ DB 연결을 활성화하기 위해서는 SELECT가 필수적이기 때문이다.

**8. `detailSch` 함수 내부에서 `sch_id = planet_id,` 와 같이 변수 뒤에 콤마(,)를 붙인 이유는 무엇인가?**
① 파이썬 문법 오류를 방지하기 위해
② 여러 개의 데이터를 반환하기 위해
#③ 단일 요소를 가진 튜플(Tuple) 형태를 만들어 `execute` 메서드에 전달하기 위해
	planet_id  (planet_id) ==> 둘다 단일 유형 데이터로만 인식
	planet_id, ==> 마지막에 ,가 튜플데이터라는 형식으로 처리해준다.  
④ SQL 문의 끝을 알리기 위해

**9. 수정 처리 프로세스에서 `if planet_name:` (또는 `if 입력값:`) 조건을 사용하여 값을 대입하는 로직의 의미는?**
① 입력값이 없을 경우(빈 문자열) 프로그램을 종료한다는 의미
#② 입력값이 있을 경우에만 객체의 속성을 변경하고, 없으면 기존 값을 유지한다는 의미
	if planet_name: 해당 데이터가 공백이거나 None이 아닐 때, 처리할 때 주로 사용된다.
③ 입력값이 있으면 기존 데이터를 삭제한다는 의미
④ 입력값이 데이터베이스의 키워드인지 검사한다는 의미

**10. `dataProc` 함수(공통 모듈)가 SELECT 기능을 수행할 때 반환하는 데이터의 형태는 무엇이라고 유추할 수 있는가?
 (코드의 `for gal in galaxy_PlanetList:` 참조)**
① SQL 쿼리 문자열 리스트
② 딕셔너리 형태의 단일 데이터
#③ DTO 객체들이 담긴 리스트(List)
④ 단순히 True/False를 반환하는 불리언 값

**11. 다음 중 트랜잭션 처리에서 `ROLLBACK`이 필요한 상황은?**
① `INSERT` 작업이 정상적으로 완료되었을 때
② `SELECT` 문을 통해 데이터를 단순히 조회만 할 때
#③ `UPDATE` 중 치명적인 에러가 발생하여 작업 전 상태로 되돌려야 할 때
④ 사용자로부터 입력을 받고 있을 때

**12. 코드 상에서 `uptOb = detailSch(planet_id)` 실행 결과 `uptOb`가 `None`일 때 수행되는 로직으로 옳은 것은?**
① 자동으로 새 데이터를 생성한다.
#② 수정 처리 프로세스(`if uptOb:`) 내부로 진입하지 않고 넘어간다.
	상세검색시 데이터에 없는 planet_id를 입력시, 수정처리프로세스 처리하지 않기 위해서..(에러발생가망).
③ 프로그램이 즉시 강제 종료된다.
④ 모든 데이터를 삭제하는 로직이 실행된다.

**13. `StudentDTO(s_name, s_kor, s_eng, s_math)` 객체를 생성한 후 `print(insObj.__dict__)`를 실행했을 때 출력되는 결과 형태는?**
① `['홍길동', 80, 90, 100]`
② `StudentDTO object at 0x1023...`
#③ `{'std_name': '홍길동', 'kor': 80, 'eng': 90, 'math': 100}`
④ `"홍길동, 80, 90, 100"`

**14. DB 연동 순서 중 가장 마지막에 수행되어야 하는 절차는? (일반적인 `dbCon` 사용 패턴 고려)**
① Cursor 생성
② DB 연결 (Connection)
#③ 자원 해제 (Close)
④ SQL 실행 (Execute)

**15. SQL에서 `WHERE PLANET_ID = :planet_id` 조건절 없이 `UPDATE GALAXY_PLANET SET ...`만 실행했을 때 
발생할 수 있는 치명적인 결과는?**
개인PC ==> 개발 서버 ==> 테스트 서버 ==> 운영 서버.

① 구문 오류로 실행되지 않는다.
#② 해당 테이블의 모든 행(Row) 데이터가 수정된다.
③ 가장 최근에 입력된 데이터 1건만 수정된다.
④ 아무런 변화가 일어나지 않는다.

**16. `searchAll()` 함수와 같이 리스트를 조회하는 기능에서 `cursor.fetchone()` 대신 
`cursor.fetchall()`을 사용하는 이유는?**
① 하나의 행만 조회하면 되기 때문에
② 메모리를 절약하기 위해
#③ 조회된 모든 행(Row) 데이터를 리스트 형태로 한 번에 가져오기 위해
④ 정렬(Order by)을 수행하기 위해

**17. 다음 중 `INSERT` 작업 시 발생할 수 있는 예외(Error) 상황으로 보기에 가장 거리가 먼 것은?**
① Primary Key(기본키) 중복 데이터 입력
② NOT NULL 컬럼에 데이터 누락
③ 데이터 타입 불일치 (문자열 컬럼에 정수 입력은 DB에 따라 허용될 수 있으나, 일반적으로 스키마 정의 위반)
④ SELECT 권한만 있는 계정으로 INSERT 시도
#⑤ WHERE 절의 조건이 맞지 않아 0건이 조회됨 (INSERT 문맥)

**18. 코드에서 `datetime.now()`를 사용하여 `create_at` 필드를 채우는 이유는?**
① 사용자가 시간을 직접 입력하게 하기 위해서
#② DB 서버의 시간이 아닌, 파이썬 프로그램이 실행되는 시점의 시간을 기록하기 위해서
	SYSDATE(DB서버시간)  파이썬 프로그램이 실행(datetime.now())으로 DB기준이냐 프로그램기준이냐에 따라...
③ 날짜 형식을 문자열로 변환하기 위해서
④ DB의 `SYSDATE` 기능을 대체할 수 없기 때문에

**19. DTO 클래스 정의 시 `deptno : int`와 같이 타입 힌트를 주는 주된 파이썬 기능적 이유는?**
① 런타임에 강제로 타입을 변환하기 위해
#② 코드의 가독성을 높이고 IDE(통합개발환경)의 자동완성 지원을 받기 위해
③ 데이터베이스 컬럼 타입을 자동으로 변경하기 위해
④ 컴파일 시 에러를 발생시키기 위해

**20. `input("수정하시겠습니까?(y/n):")`와 같은 코드를 통해 제어 흐름을 만드는 이유로 가장 적절한 것은?**
① DB 연결 시간을 늘리기 위해
#② 무조건적인 수정/삭제를 방지하고 사용자의 의사를 확인하기 위해
③ 데이터를 입력받는 속도를 높이기 위해
④ 쿼리문을 동적으로 생성하기 위해

---

### [Part 2] 주관식 기술형 (5문제)

**1. SQL 인젝션(SQL Injection)이란 무엇이며, 제시된 코드에서는 이 공격을 막기 위해 어떤 구체적인 방법(기술적 용어 포함)을 
	사용하고 있는지 설명하시오.**
	id :[     ]    ' or '1' = '1
	password : [    ]  '1'='1
	[로그인]
	문자열 조합으로 처리되는 경우...
	sql  : select * from users where id='"+inId+"' and pwd = '"+inPwd+"'
	himan/7777
	sql  : select * from users where id='himan' and pwd = '7777'
	' or '1' = '1/'or '1'='1
	sql  : select * from users where id='' or '1' = '1' and pwd = '1'='1' ==> id/pwd를 모르더라도
		다 인증.. 
	==> select * from users where id=:id and pwd = :pwd
	==> select * from users where id=? and pwd =?
	   	' or '1' = '1/'or '1'='1  데이터유형이 맞게 들어와야지만 인식해서 처리해줌..

**2. 데이터 수정(UPDATE) 프로그램을 작성할 때, 단순히 `UPDATE` 문만 실행하지 않고 `SELECT`(상세 조회)를 먼저 수행한 뒤, 
	사용자 입력을 받아 `UPDATE`를 수행하는 '3단계 흐름'으로 구성하는 논리적인 이유를 서술하시오.**
	상세항목의 데이터를 기준으로 수정여부에 따라 수정 처리하기 위한 내용이다.

**3. 파이썬 DB API를 사용할 때 `con.commit()`을 수행하지 않고 프로그램을 종료했을 때, 
	`INSERT`나 `UPDATE`한 데이터가 실제 데이터베이스에 반영되지 않는 이유를 '트랜잭션(Transaction)'의 개념을 포함하여 설명하시오.**
	commit() 확정, rollback() : 오류시 원복처리
**4. `detailSch` 함수에서 단일 파라미터를 바인딩할 때 `sch_id = planet_id,` 처럼 끝에 콤마(,)를 붙이지 않고 
	`sch_id = planet_id`라고만 작성했을 경우 발생할 수 있는 에러의 원인을 파이썬 튜플(Tuple)의 문법적 특성과 
	연관 지어 설명하시오.**
	단일 데이터 유형이냐 튜플형이냐를 구분해준다. 
	하나의 데이터를 튜플형태로 입력해서 바인딩 할 때, 반드시 ,(콤마)를 통해 튜플 유형로 처리해준다.

**5. 절차 지향적으로 변수를 나열하여 쿼리에 넣는 방식(예: `name`, `kor`, `eng` 변수 개별 사용)과 비교할 때,
 `StudentDTO`와 같은 DTO(Data Transfer Object) 클래스를 정의하고 `insObj.__dict__`를 활용하여 데이터를 
 	처리하는 방식이 갖는 유지보수 측면의 장점을 서술하시오.**
 	변수가 늘어나도 함수 인자를 일일이 수정할 필요 없이 DTO 객체에 필드만 추가하면 되면, __dict__로 자동 매핑되므로
 	코드 수정이 최소화되고 관리가 용이합니다.

 	

