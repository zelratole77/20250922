# 답변형 게시판
1. 개요
	답변형 게시판은 사용자가 특정 게시물을 올리고 그에 대한 답변을 주고 받을 수 있는 플랫폼입니다.
	이를 위해 사용자는 특정 게시물이나 질문을 제출하고, 이에 대하여 다른 사용자 및 관리자는
	질문에 답변을 할 수 있게 처리하여야 합니다. 또한 부가적인 기능으로 페이징 처리, 첨부파일 업로드
	및 게시물 자료 다운로드, 세션에 따른 수정/삭제 권한 처리 등이 처리할 수 있습니다.
2. 주요 기능
	1) 질문 및 답변 기능
		- 사용자는 질문이나 게시물을 올리고 제출할 수 있어야 합니다.
		- 다른 사용 또는 관리자는 해당 게시물에 대한 언급 또는 답글을 작성하고, 이를 사용자에게 제공할 수 있어야 합니다.
		- 답변을 일반적으로 시간 순서대로 정렬되어야 합니다.
	2) 페이징 처리
		- 많은 양의 게시물과 질문/답변을 효율적으로 관리하기 위해서는 DB 기반의 페이징 처리가 필요합니다.
		- 한 페이지에 보여줄 항목 수를 설정하고, 해당 항목 수도 선택에 의해 변경이 가능하면 사용자가 페이지를 넘기며
			모든 질문과 답변을 탐색할 수 있어야 합니다.
	3) 첨부 파일 업로드
		- 사용자에게 질문이나 답변한 내용에 필요한 자료를 첨부 할 수 있어야 합니다.
		- 이미지, 문서 등 다양한 형식의 파일을 업로드하고 관리해야 합니다.
	4) 권한 관리(세션 처리에 의한)
		- 사용자를 로그인을 특정한 세션 시간 범위 안에 하여, 해당 세션 시간이 지나거나 초기에는 반드시 로그인 하여야 합니다.
		- 로그인을 통하여 지정한 권한이 있으면 그 권한에 따라 게시물에 대한 접근을 처리하여야 합니다.
			ex) 예시 게시판은 해당 세션아이디로만 작성자가 처리되면, 해당 작성자만이 게시물을 수정/삭제할 수 있게 처리하였습니다.
			추가적으로 첨부파일이나 읽기 등에 대하여도 권한에 따른 처리가 session 정보를 통하여 가능합니다.
4. 처리할 파일
	0) 공통 설정
		- 파일 업로드 경로
		
	1) backend(자바단)
		web.com.springweb.a09_board 패키지 밑에 아래 파일 설정..
		
		a09_board.A01_BoardController.java
		a09_board.A02_BoardService.java
		a09_board.A03_BoardDao.java
		a09_board.Board.java   리스트를 위한 DTO
		a09_board.BoardSch.java 페이징 처리 및 검색을 위한 DTO
		a09_board.FileDto.java 파일정보관리를 위한 DTO
		
	2> frontend(jsp)
		src/main/webapp/WEB-INF/views 폴더 하위에..
	
		/views/a09_board/a00_login.jsp  로그인 처리를 위한 view
		/views/a09_board/a01_boardList.jsp 초기 게시물 리스트 화면
		/views/a09_board/a02_boardInsert.jsp 게시물 등록 및 답글 화면
		/views/a09_board/a03_boardDetail.jsp 게시물 상세 화면
		
5. 프로세스에 대한 이해(처리되는 파일과 data 확인)
	1) 전반적인 흐름//관리 데이터
	    # 초기 로그인
		[A01_BoardController]초기화면 /boardList 로 호출하면, 리스트 화면[a01_boardList.jsp] 세션이 없으면 
		로그인 하세요 하면서 /login으로 로그인 화면[a00_login.jsp]이 호출 된다.
		로그인화면(/login) : id, pwd 아이디와 패스워드를 입력해서 해당 데이터가 저장되어 있는지 여부 확인 ==> id, pwd 있는 테이블 필요
		정상로그인했을 때 리스트 화면으로 가서(/boardList) DB데이터 ==> 세션 데이터(jsp session 범위 관리 ${mem.id}) 기준으로
			로그인 여부를 확인하는 DB 안 이름 표현 ${mem.name}  
			==> ## DB 데이터 member(id, pwd, name) 
		# 리스트 화면	
		/boardList로 리스트화면([a01_boardList.jsp])이 출력되는 데, 검색할 내용(제목-subject), 작성자-writer)
			리스트된 데이터(번호-no, 제목-subject, 작성자-writer, 작성일-regdte, 조회수-readcnt)로 확인 할수 있다.
		# 등록 화면	
		등록 버튼 클릭시, 등록할 화면(/boardInsert - [a02_boardInsert.jsp])데이터 나타난다.	등록할 데이터로
		제목-subject, 작성자-writer, 내용 - content, 첨부파일 - 파일명 - fname 선택 등록을 처리한다.
		==> ## DB 데이터 board(no, subject, writer, regdte, readcnt, content) 
		               boardfile(no, fname) 위 게시물 번호와 연관된 no, 파일명 저장공간이 필요..
		# 상세화면 
		리스트된 데이터 중에 한 행을 클릭하면 상세화면으로 이동(/boarDetail [a03_boardDetail.jsp]   
		하나의 행단위 데이터에 실제 저장된 항목 위 DB 데이터 board에서 추가적으로 상위글번호(refno), 수정(uptdte)가 
		처리되는 것을 확인 할 수 있다.
		==> ## DB 데이터 board(no, refno, subject, writer, regdte, uptdte, readcnt, content) 	
		상세글 클릭시 readcnt가 하나씩 증가하여 수정된다.
		수정할 때(/boardUpdate) 처리되고, 제목-subject, 내용-content, 수정일 - uptdte)
		답글달기를 하면 등록화면으로 전환되면서 제목 - subject RE: 붙어서 처리, 내용 - content 이전글 내용 포함되어 처리되고,
			답글 달기 전의 고유번호인 no ==> refno로 hidden되어 있고, 해당 글을 등록 시, 답글로 처리가 된다.
		# 계층형 리스트 데이터
			oracle 계층형 sql 구문에 의해서 상위글 다음에 하위글이 처리되어 출력되게 설정..
		# 페이지 처리 데이터
			프로그램 알고리즘에 의해서 각 화면에 로딩할 갯수 지정(DTO 페이지사이즈-  DBX), 각 페이지 클릭시 해당 페이지 리스트
			출력(DTO 시작번호 마지막번호를 기준으로 DB를 검색하여 로딩한ㄷ).
		           
		
		               
		               
		               
		               
		               
			          
			
	
	
	
	2) 관리할 데이터에 대한 이해..



6. 데이터베이스 처리..



7. 처리한 프로그램에 대한 핵심 개념 이해
	1) spring MVC 패턴
	2) 요청값 처리/요청값 객체처리
	3) 모델 처리
	4) 파일 업로드 처리 

8. 단계별 개발 순서
	1) 기본 정보 출력 리스트
	2) 기본 정보 등록
	3) 기본 정보 상세
	4) 기본 정보 수정/삭제
	5) 등록시 첨부 파일 처리
	6) 상세화면에 첨부된 파일 다운로드
	7) 세션(권한)처리에 대한 이해와 세션처리.
	8) 답글 달기
	9) 답글에 따른 계층형 sql 처리
	10) 페이지 처리에 대한 알고리즘 이해와 처리
	
	









			
			
			
